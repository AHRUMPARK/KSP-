# KSP ìŒì› ì‚¬ì´íŠ¸ ë­í‚¹ ëª¨ì•„ë³´ê¸°

**`Frontend`** 1ëª…  **`FULL`** 3ëª…

**`ì§„í–‰ê¸°ê°„`**  2022.12.15 ~ 2022.12.29 ì´ 2 ì£¼ê°„ ì§„í–‰

<img src="https://user-images.githubusercontent.com/116782319/226580731-2e7847b6-29ae-4e4b-9ac7-a92706ab38b0.jpg"  width="800" align="center" />

<h4>ğŸ”—demo http://49.50.172.207:8080/</h4>
   
   <br/>
<h3>ğŸµ ì„œë¹„ìŠ¤ ì†Œê°œ</h3>
<hr />

<aside>
   
ğŸ§‘â€ğŸ’» **ìŒì› ì‚¬ì´íŠ¸ì˜ ë­í‚¹ì„ í•œëˆˆì— ë³¼ ìˆ˜ ìˆëŠ” ì„œë¹„ìŠ¤**ë¥¼ ì œê³µí•©ë‹ˆë‹¤.

</aside>

<aside>
   
ğŸ™‚ ìŒì•…ì— ê´€ì‹¬ ìˆëŠ” ëˆ„êµ¬ë‚˜ ì„œë¡œ **ì†Œí†µ í•  ìˆ˜ ìˆëŠ” ê³µê°„**ì„ ì œê³µí•˜ê³ ì í•˜ì˜€ìŠµë‹ˆë‹¤.
   
ììœ  ê²Œì‹œíŒì—ì„œ ìì‹ ì˜ ì‘ê³¡, ë…¸ë˜, ê¸°íƒ€ ì‘ì—… ë“±ì„ ì˜¬ë¦¬ê³  ì˜ê²¬ì„ ë‚˜ëˆ ë³´ì„¸ìš”.

</aside>


   <br/>
<h3>ğŸ› ï¸ ì‚¬ìš© ê¸°ìˆ  & ë¼ì´ë¸ŒëŸ¬ë¦¬</h3>

**`Frontend`**

â€¢ html / css / javaScript / jquery 

**`Backend`**

â€¢ node / Express / Sequelize / Mysql


**`Library`**

â€¢ bootstrap, Cherrio, Chart.js, Puppeteer


**`Communication`**

â€¢ Slack / kakaotalk / Notion / Figma


   <br/>
<h3>âœ’ êµ¬í˜„ ê¸°ëŠ¥</h3>
<hr />

**ê¸°ëŠ¥**


`REST API ì‚¬ìš©` 

- ë¡œê·¸ì¸ & ë¡œê·¸ì•„ì›ƒ â‡’ ì„¸ì…˜ ìƒì„±
- íšŒì› ê°€ì… / íšŒì› íƒˆí‡´ / íšŒì› ì •ë³´ ìˆ˜ì • / ìœ ì € ê²Œì‹œê¸€ ì—°ê²° /  ì¢‹ì•„ìš” ê´€ë¦¬ ê¸°ëŠ¥

Node.js multter  â‡’  ì´ë¯¸ì§€ ì—…ë¡œë“œ ê¸°ëŠ¥

Bootstap ë¼ì´ë¸ŒëŸ¬ë¦¬ â‡’ ë§ˆì´í˜ì´ì§€ ì œì™¸ ì‚¬ìš© ( ë§ˆì´í˜ì´ì§€ css grid )

**Cherrio** **Crawling** â‡’  ìŒì› ì‚¬ì´íŠ¸ ë°ì´í„° ì¶”ì¶œ


**`ë””ìì¸ ë° ê¸°íš`**


í”„ë¡œì íŠ¸ ì „ë°˜ì  ê³„íš ì„¤ê³„

ë¡œê·¸ì¸, íšŒì› ê°€ì…, íšŒì› ì •ë³´ í˜ì´ì§€, ë§ˆì´í˜ì´ì§€ ë“± Figma ë””ìì¸
<br />

<img src="https://user-images.githubusercontent.com/116782319/226579163-7ab74f3c-69f2-4e3e-be06-ffe31c98b2dd.png"  width="1000" align="center" />



   <br/>
<h3>ğŸ’¡ ëŠë‚€ ì  & ë°°ìš´ ì </h3>
<hr />

1. ë°˜ì‘í˜•ì„ ë‘ ê°€ì§€ ëª¨ë“œë¡œ í–ˆëŠ”ë°, íŒ€ì›ë“¤ í•¸ë“œí°ë§ˆë‹¤ ë‹¤ë¥´ê²Œ ë‚˜ì˜¤ëŠ” ë¬¸ì œê°€ ìˆì—ˆë‹¤.
    
    ì•Œê³  ë³´ë‹ˆ, ì‚¬ëŒë“¤ì´ ì“°ëŠ” ê¸°ê¸° ë³„ë¡œ ëª¨ë‘ ë¯¸ë””ì–´ ì¿¼ë¦¬ë¡œ ì§€ì •í•´ì¤˜ì•¼ í•œë‹¤.
    
2. ìµœìƒìœ„ js íŒŒì¼ì—ì„œ ì„¸ì…˜ ì •ì˜ê°€ ë¼ìš°í„° ì„¤ì •ë³´ë‹¤ ìœ„ì— ìˆì–´ì•¼ í•œë‹¤.
    
    req.session.idëŠ” ì“°ë©´ ì•ˆëœë‹¤. 
    
     ì ‘ì† ì‹œ ê¸°ë³¸ì ìœ¼ë¡œ ì €ì¥ë˜ëŠ” ì„¸ì…˜ ê°’ idë§ê³  ë‹¤ë¥¸ ëª…ìœ¼ë¡œ ì§€ì¹­
    
3. ì—…ë¡œë“œ ê´€ë ¨ : ë„¤íŠ¸ì›Œí¬ëŠ” ê°™ì€ ëª…ì˜ ë°ì´í„°ë©´ 2ë²ˆì§¸ ì¸ì‹ x 
    
    ìºì‹œ ë¹„í™œì„±í™” (ì›¹í˜ì´ì§€, ì½”ë“œ ë‘˜ ë‹¤ í•´ì£¼ê¸°) 
    
4. GIT ê´€ë ¨ ì¶©ëŒ, ì˜¤ë¥˜ ì°¨ë¶„í•˜ê²Œ ëŒ€ì²˜í•˜ì, ë‹¤ì–‘í•œ í˜‘ì—… íˆ´ ì‚¬ìš©í•˜ê³  í™œìš©í•˜ì

1. DB ë„ ê´€ê³„ë¥¼ ì§€ì„ ìˆ˜ ìˆëŠ”ë°, ë‹¤ìŒì—ëŠ” ì„¤ê³„ í•  ë•Œ ì¨ë³´ê³  ì‹¶ë‹¤.

6. íŒ€ì›ë“¤ê³¼ ë§¤ì¼ ì¼ì§€ ê¸°ë¡ í–ˆë˜ ê²ƒì´ ì¢‹ì•˜ë‹¤.

[https://tricolor-fern-8f6.notion.site/f9d78bfeadeb433885927ad6d02b7895?v=a34d8ca69a7f4b45a415299ea33aa1b8&p=269c07d990024247b016a6d49bf7428a&pm=s]íšŒì›ê°€ì… & ë¡œê·¸ì¸ & íšŒì› ì •ë³´ ìˆ˜ì •

| ì´ë¦„ | METHOD | URL | req.body | response | ë¹„ê³  |  |
| --- | --- | --- | --- | --- | --- | --- |
| ë¡œê·¸ì¸ user_login() | POST | /signin | let user = {
id : form.id.value,
pw : form.pw.value
} | 1. ì„œë²„ì˜ ì•„ì´ë””ì™€ ë¹„ë²ˆì´ ë§ëŠ” í•œ ë°ì´í„° ì¡°íšŒ
User.findAll({
where : { id : http://req.body.id/, pw : http://req.body.pw/ },
limit : 1
})

2. ìœ ì €ì•„ì´ë”” ì„¸ì…˜ ìƒì„±
if( result.length > 0 ){
req.session.user = http://req.body.id/;
3. ì„¸ì…˜ì„±ê³µ í›„ ë¡œê·¸ì¸ ì„±ê³µ
alert('ë¡œê·¸ì¸ ì„±ê³µ');
window.location.href="/main";

3. ì¡°íšŒê°’ì´ ì—†ìœ¼ë©´ ë‹¤ì‹œ í¼ ë¦¬ì…‹
alert('ë¡œê·¸ì¸ ì‹¤íŒ¨');
form.reset(); |  |  |
| ë¡œê·¸ì•„ì›ƒ
user_logout() | DELETE | /logout |  | ì„¸ì…˜ ì‚­ì œ
req.session.destroy(function (err){
if(err) throw err ;
res.send(true);
});

alert('ë¡œê·¸ì•„ì›ƒ í•˜ì…¨ìŠµë‹ˆë‹¤.');
window.location.href = "/";
 |  |  |
| íšŒì›ê°€ì…register() | POST | /signup | let user = {
id: form.id.value,
name: form.name.value,
pw: form.pw.value,
rePw: form.rePw.value,
e_mail: form.e_mail.value
} | ì„œë²„ì— ë°ì´í„° ì¶”ê°€
User.create(data)
.then((result)=>{
res.send(true);
});

alert('íšŒì›ê°€ì… ì„±ê³µ');
window.location.href="/";

else {
alert('ë¹„ë°€ë²ˆí˜¸ê°€ ë§ì§€ ì•ŠìŠµë‹ˆë‹¤.');
} | ìœ íš¨ì„± ê²€ì‚¬ ëª©ë¡ì„ í†µê³¼í•˜ë©´
trueê°’ì„ ì£¼ì—ˆë‹¤.
ë°‘ì— ëª©ë¡ ì¤‘ ê°’ì´ ê·¸ëŒ€ë¡œ fasleë¡œ 
ëœ¨ë©´, ê°€ì…í•  ìˆ˜ ì—†ë‹¤.

var validity = {
id: false,
name: false,
pw: false,
rePw: false,
e_mail: false,
agree: false
};

for (const [type, value] of Object.entries(validity)) {
if (!value) {
// console.log(validity);
alert('í˜•ì‹ì— ë§ì§€ ì•ŠìŠµë‹ˆë‹¤.')
return false;
}
}

 |  |
| ê²€ì‚¬ ëª©ë¡
1.idValidity()
2.nickValidity()
3.pwValidity()
4.rePwValidity()
5.mailValidity()
6.agree_check() | ì¤‘ë³µê²€ì‚¬
idValidity()
nickValidity()
mailValidity()
POST ìš”ì²­
 | /check_id
/check_name /check_mail
 | ì¤‘ë³µ ê²€ì‚¬ëŠ” ìœ íš¨ì„± ê²€ì‚¬ë¥¼ í†µê³¼í•˜ì§€ ëª»í•˜ë©´ ëë‚´ê³ , í†µê³¼í•˜ë©´ ì„œë²„ì— ìš”ì²­ì„ ë³´ë‚¸ë‹¤.
data: { id: form.id.value }
data: { name: e.value }
data: { e_mail: e.value }

ì´ë©”ì¼ ê°™ì€ ê²½ìš°ëŠ” 
input type="emailâ€ë¡œ í•´ì£¼ë©´, ì•Œì•„ì„œ ìœ íš¨ì„± ê²€ì‚¬ê°€ ëœë‹¤.
 | ì¤‘ë³µê²€ì‚¬ ì¡°íšŒì— í•„ìš”í•œ  findOneë¥¼ ì”ë‹ˆë‹¤.
result ê°’ì´ ìˆìœ¼ë©´ ì¤‘ë³µ > false
ê°’ì´ ì—†ìœ¼ë©´ true

let result = await User.findOne({
where : { id : http://req.body.id/ }
});
if ( result != null ){
res.send (true);
} else {
res.send (false);
};
};

result.dataê°€ ìˆìœ¼ë©´ 
$('#id_check_sucess').html('<p style="color:red;"> ì¤‘ë³µëœ ì•„ì´ë”” ì…ë‹ˆë‹¤.');

ì—†ìœ¼ë©´
$('#id_check_sucess').html('<p style="color:blue;">ì‚¬ìš© ê°€ëŠ¥í•œ ì•„ì´ë”” ì…ë‹ˆë‹¤.');
validity["id"] = true;
ìœ íš¨ì„± ê²€ì‚¬í•  ëª©ë¡ì€ ë§ˆì§€ë§‰ì— trueê°’ì„ ì¤€ë‹¤. |  |  |
| íšŒì› ì •ë³´ ìˆ˜ì •
Edit_info_update() | patch | /Edit_info_update | ë¹„ë°€ë²ˆí˜¸ê°’ì´ ê°™ê±°ë‚˜
ë‹‰ë„¤ì„ ì²´í¬ê²€ì‚¬ê°€ trueì´ê³ 
if (form.pw.value == form.rePw.value || form.name.checkValidity())

ë‹‰ë„¤ì„ê°’ì„ ë°ì´í„°ì— ë³´ë‚¸ë‹¤.
ê·¸ë¦¬ê³  ë¹„ë°€ë²ˆí˜¸ê°’ì´ ìˆìœ¼ë©´, dataì— ë„£ì–´ì„œ ë³´ë‚¸ë‹¤.
var data = { name: form.name.value };
if (form.pw.value != "") data["pw"] = form.pw.value;

data: data

ìœ„ì˜ ì¡°ê±´ì— í•´ë‹¹ ì•ˆë  ë•Œ
alert('í˜•ì‹ì— ë§ì§€ ì•ŠìŠµë‹ˆë‹¤.'); | ìˆ˜ì •í•  ì„¸ì…˜ ì•„ì´ë””
let result = await User.update(req.body,
{ where : { id : ${req.session.user} }
});
res.send({ data : result });

var form = document.getElementById('Edit_info');
form.name.value = http://response.data.name/;
window.location.href = "/";
alert('ì •ë³´ ìˆ˜ì • ì„±ê³µ'); | // 1. nameì€ form.name.value (ë°”ë€Œë“  ì•ˆë°”ë€Œë“  ì…ë ¥ê°’ìœ¼ë¡œ ìˆ˜ì •)
// 2. pwê°€ ë§Œì•½ ê°’ì´ ìˆìœ¼ë©´, dataê°ì²´ì˜ "pw"ê°’ì— ì…ë ¥ê°’ì„ ë³´ë‚¸ë‹¤.
// 3. pwê°€ ë§Œì•½ ê°’ì´ ì—†ìœ¼ë©´, dataê°ì²´ì— ê°’ì„ ë³´ë‚´ì§€ ì•ŠëŠ”ë‹¤ => ìˆ˜ì •ë˜ì§€ ì•ŠëŠ”ë‹¤. |  |
| íšŒì› íƒˆí‡´
delete_info() | delete | /user_delete | data: { id: form.id.value } | ì„¸ì…˜ ì‚­ì œ
let result = await User.destroy(
{ where : { id : ${req.session.user} }}
);
req.session.destroy(function (err){
if(err) throw err ;
res.send(true);
});

alert('íšŒì› íƒˆí‡´ í•˜ì…¨ìŠµë‹ˆë‹¤.');
window.location.href = "/"; |  |  |
| ë§ˆì´í˜ì´ì§€
í”„ë¡œí•„ ì—…ë¡œë“œ
$('#upload_file').on('click', function(){
$('#userfile').trigger('click'); | post | /upload_file,

upload.single('img') | ë§Œì•½ ì¸í’‹ê°’ì— ë³€í™”ê°€ ìƒê¸°ë©´
ì„œë²„ì— ìš”ì²­ì„ ë³´ë‚¸ë‹¤.
$('#userfile').change(function(){
var form = document.getElementById('profile_info');
var formData = new FormData(form);

 | íŒŒì¼ê°’ì´ ìˆìœ¼ë©´, user_imgì—
ì„¸ì…˜ì•„ì´ë””+í™•ì¥ìëª…ìœ¼ë¡œ dbì— ì €ì¥
if(req.file) {
User.update({
user_img : req.file.filename
},
{ where : { id : ${req.session.user} } }
);
res.send({ path : req.file.filename });
}

ë°›ì€ë°ì´í„°ë¥¼
â€ê²½ë¡œâ€ + ì„¸ì…˜ì•„ì´ë””+í™•ì¥ì ë¡œ ì—…ë°ì´íŠ¸
document.getElementById('profile_img').src = "static/profile_img/" + reuslt.path;

 |  |  |
| ë§ˆì´í˜ì´ì§€
 | get | /mypage | 1.ì„¸ì…˜ì²´í¬ 
2.ìœ ì € ë‹‰ë„¤ì„ ì²´í¬
3.í”„ë¡œí•„ ì´ë¯¸ì§€ ì²´í¬
4.ì¢‹ì•„ìš” ì´ë¯¸ì§€ ì²´í¬
5. ë‚´ ê²Œì‹œê¸€ ì²´í¬
 | 1.ì„¸ì…˜ì²´í¬
let result = {id : req.session.user};
    if(req.session.user) {
        result["isLogin"] = true;    

2.ìœ ì € ë‹‰ë„¤ì„ ì²´í¬
let result2 = await User.findOne({
where : { id : ${req.session.user}}
});

3.í”„ë¡œí•„ ì´ë¯¸ì§€ ì²´í¬
ì´ë¯¸ì§€ê°’ì´ ì—†ìœ¼ë©´, ì§€ì •í•œ ì‚¬ì§„ì„ ë„£ëŠ”ë‹¤.
if(!result2.user_img) {
result2.user_img = 'd_img.png';
}

4.ì¢‹ì•„ìš” ì´ë¯¸ì§€ ì²´í¬
ì¢‹ì•„ìš”dbì—ì„œ ì„¸ì…˜ì•„ì´ë”” ì¡°íšŒ
ë°ì´í„°ë¥¼ ì—­ìˆœìœ¼ë¡œ ê°€ì ¸ì˜¨ë‹¤.
LikeSing.findAll({
where: {
user_id: ${req.session.user}
},
order: [['no', 'DESC']]

}).then((rows) => {

//ë§Œì•½ ê°¯ìˆ˜ê°€ 3ê°œì´í•˜ë©´?
if(rows.length < 4) {
for(let i = 0; i < 4; i++) {
//3ê°œë§Œí¼ ë°˜ë³µí• ê±´ë°  ì •ë³´ê°€ ì—†ëŠ” ë°ì´í„°ëŠ” ë°‘ì— ë°ì´í„°ë¡œ í´ë¼ì´ì–¸íŠ¸ì— ë³´ë‚¸ë‹¤.
if(rows[i] === undefined) {
let likeData = {
user_id : 'ì •ë³´ ì—†ìŒ',
title : 'ì •ë³´ ì—†ìŒ',
singer : 'ì •ë³´ ì—†ìŒ',
album_img : '/static/res/image/empty_list.jpg'
};
rows.push(likeData);
//í•´ë‹¹ ë°ì´í„°ë¥¼ result.likesing ì— ë„£ëŠ”ë‹¤.
result["likesing"] = rows;

//4ê°œ ì´ìƒì¸ ê²½ìš° 
else {
result["likesing"] = rows; };

5. ë‚´ ê²Œì‹œê¸€ ì²´í¬
ê²Œì‹œíŒ ë°ì´í„° ì—­ìˆœ ì¡°íšŒ
Board.findAll({
where: {
id: ${req.session.user}
},
order: [["number", "DESC"]],
}).then((rows)=>{

//ë§Œì•½ 4ê°œ ì´í•˜ ì¼ ê²½ìš°
ë°ì´í„°ê°€ ì—†ëŠ” ëª©ë¡ì€ ì•„ë˜ ë°ì´í„°ë¡œ ëŒ€ì²´í•œë‹¤.
if(rows.length < 5) {
for(let i=0; i < 5; i++ ){
if((rows[i] === undefined)){
let boardData = {
number : 'ì •ë³´ ì—†ìŒ',
title : 'ì •ë³´ ì—†ìŒ',
id : 'ì •ë³´ ì—†ìŒ',
content : 'ì •ë³´ ì—†ìŒ',
filename : 'ì •ë³´ ì—†ìŒ',
date : 'ì •ë³´ ì—†ìŒ',
hit : 'ì •ë³´ ì—†ìŒ'
};
rows.push(boardData);
}
}
result["Board"] = rows;
res.render('mypage', { data : result2, result});
}

//ë§Œì•½ 5ê°œ ì´ìƒì¼ ê²½ìš°
else {
result["Board"] = rows;
res.render('mypage', { data : result2, result});
}
});

6. ë§Œì•½ ì„¸ì…˜ì•„ì´ë””ê°€ ì—†ë‹¤ë©´
else {
result["isLogin"] = false;
res.send("<script>alert('ë¡œê·¸ì¸ í›„ ì´ìš©ê°€ëŠ¥í•©ë‹ˆë‹¤.');location.href='/login';</script>");
}
 |  |  |
|  |  |  |  |  |  |  |

| ì´ë¦„ | METHOD | URL | req.body | response | ë¹„ê³  |
| --- | --- | --- | --- | --- | --- |
| ìœ íŠœë¸Œ ì‹¤ì‹œê°„ ìŒì› ìˆœìœ„ ì‹œê°„ ë³€ê²½ | GET | /youtubeRealChart/:num | req.session.user,
req.params.num | result {
   id: req.session.user,
   isLogin: true,
   youtubedata: {data, filelist, fileHour},
   geniedata: {data: ''},
   melondata: {data: ''},
   likeSing: {data: rows}
}

result {
  id: req.session.user,
  isLogin: false
}
<script>
alert('ë¡œê·¸ì¸ í›„ ì´ìš©ê°€ëŠ¥í•©ë‹ˆë‹¤.');
location.href='/login';
</script> |  |
| ìœ íŠœë¸Œ ë®¤ì§ë¹„ë””ì˜¤ ìˆœìœ„ ì‹œê°„ ë³€ê²½ | GET | /youtubeMovieChart/:num | req.session.user,
req.params.num | result {
   id: req.session.user,
   isLogin: true,
   youtubedata: {data, filelist, fileHour},
   likeSing: {data: rows}
}

result {
  id: req.session.user,
  isLogin: false
}
<script>
alert('ë¡œê·¸ì¸ í›„ ì´ìš©ê°€ëŠ¥í•©ë‹ˆë‹¤.');
location.href='/login';
</script> |  |
| ë©œë¡  ì‹¤ì‹œê°„ ìŒì› ìˆœìœ„ ì‹œê°„ ë³€ê²½ | GET | /melonRealChart/:num | req.session.user,
req.params.num | result {
   id: req.session.user,
   isLogin: true,
   youtubedata: {data: â€˜â€™},
   geniedata: {data: data, filelist, fileHour},
   melondata: {data: ''},
   likeSing: {data: rows}
}

result {
  id: req.session.user,
  isLogin: false
}
<script>
alert('ë¡œê·¸ì¸ í›„ ì´ìš©ê°€ëŠ¥í•©ë‹ˆë‹¤.');
location.href='/login';
</script> |  |
| ì§€ë‹ˆ ì‹¤ì‹œê°„ ìŒì› ìˆœìœ„ ì‹œê°„ ë³€ê²½ | GET | /genieRealChart/:num | req.session.user,
req.params.num | result {
   id: req.session.user,
   isLogin: true,
   youtubedata: {data: â€˜â€™},
   geniedata: {data: â€˜â€™},
   melondata: {data: data, filelist, fileHour},
   likeSing: {data: rows}
}

result {
  id: req.session.user,
  isLogin: false
}
<script>
alert('ë¡œê·¸ì¸ í›„ ì´ìš©ê°€ëŠ¥í•©ë‹ˆë‹¤.');
location.href='/login';
</script> |  |
| ì§€ë‹ˆ ë®¤ì§ë¹„ë””ì˜¤ ìˆœìœ„ ì‹œê°„ ë³€ê²½ | GET | /genieMovieChart/:num | req.session.user,
req.params.num | result {
   id: req.session.user,
   isLogin: true,
   genieMoviedata: {data, filelist, fileHour},
   likeSing: {data: rows}
}

result {
  id: req.session.user,
  isLogin: false
}
<script>
alert('ë¡œê·¸ì¸ í›„ ì´ìš©ê°€ëŠ¥í•©ë‹ˆë‹¤.');
location.href='/login';
</script> |  |
| ì¢‹ì•„ìš” ë“±ë¡ | POST | /likeSingRegister | req.session.user,
req.body.likeTitle,
req.body.likeSinger,
req.body.likeImg | true |  |
| ì¢‹ì•„ìš” ì‚­ì œ | POST | /likeSingDelete | req.session.user,
req.body.likeTitle,
req.body.likeSinger | true |  |

 
